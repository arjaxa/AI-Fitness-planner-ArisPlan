EXERCISE_LIBRARY = [
    # QUADS / Machine
    {
        "name": "Leg Extension",
        "primary": "quads",
        "secondary": [], 
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 1,
        "pattern": "extension" 
    },
     {
        "name": "Single leg leg Extension",
        "primary": "quads",
        "secondary": [], 
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 1,
        "pattern": "extension" 
    },
    {
        "name": "Leg Press",
        "primary": "quads",
        "secondary": ["hamstring"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Single leg leg Press",
        "primary": "quads",
        "secondary": ["hamstring"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Hack squat machine",
        "primary": "quads",
        "secondary": [],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "press"
    },
    # Smith
    {
        "name": "Smith machine squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "Smith machine front squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "Smith sumo squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "squat"
    },
    {
        "name": "Smith  squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "squat"
    },
    {
        "name": "Smith bulgarian split squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "Smith lunge",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "Smith split squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "Smith zercher squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "squat"
    },


    # Barbell
    {
        "name": "BB zercher squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "BB lunge",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "BB split squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "BB squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "BB front squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "BB bench squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "BB zercher squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"
    },
    # Cable
    {
        "name": "Cable goblet squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "squat"
    },


    # Dumbbell
    {
        "name": "DB squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "squat"
    },
    {
        "name": "DB lunge",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "DB bulgarian split squats",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "DB goblet squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "squat"
    },
    {
        "name": "DB sumo squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "squat"
    },



     {
        "name": "Back Squat",
        "primary": "quads",
        "secondary": ["glute", "hamstring"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "squat"

    },
     {
        "name": "Goblet Squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "squat"
    },
     {
        "name": "DB Lunge",
        "primary": "quads",
        "secondary": ["glute", "hamstring"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
     {
        "name": "Cable Goblet Squat",
        "primary": "quads",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "squat"
    },
    # HAMSTRING / machine
    {
        "name": "Lying hamstring curls",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Reverse hack squat",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "squat"
    },
    {
        "name": "Seated hamstring curl machine",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Smith RDL",
        "primary": "hamstring",
        "secondary": ["glute", "lowerback"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "Smith stiff-leg deadlift",
        "primary": "hamstring",
        "secondary": ["glute", "lowerback"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "Conventional deadlift",
        "primary": "hamstring",
        "secondary": ["lowerback"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "Sumo deadlift",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "Single-leg romanian deadlift",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "Smith good morning",
        "primary": "hamstring",
        "secondary": ["glute", "lowerback"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "Hack good morning",
        "primary": "hamstring",
        "secondary": ["glute", "lowerback"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "Standing single-leg curl (cable)",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Cable pull-through",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "Cable RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "Cable straight-leg deadlift",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "Cable reverse lunge",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "lunge"
    },

    # Barbell
    {
        "name": "BB RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "BB stiff-leg deadlift",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "BB sumo deadlift",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "BB single-leg RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "BB good morning",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "BB RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "lift"
    },
    {
        "name": "BB deficit RDL",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "BB reverse lunge",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "lunge"
    },


    # Dumbbell

     {
        "name": "DB RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "DB Single-leg RDL",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "DB Stiff-leg deadlift",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "DB Single-leg deadlift",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lift"
    },
    {
        "name": "DB Good morning",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "DB Reverse lunge",
        "primary": "hamstring",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "DB Bulgarian split squat",
        "primary": "glute",
        "secondary": ["hamstring"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 3,
        "pattern": "lunge"
    },
    {
        "name": "DB Lying leg curl",
        "primary": "hamstring",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },

    # CALVES
     {
        "name": "Standing calf machine",
        "primary": "calf",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 1,
        "pattern": "calf"
    },
    {
        "name": "Standing smith calf raise",
        "primary": "calf",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 1,
        "pattern": "calf"
    },
     {
        "name": "Seated calf machine",
        "primary": "calf",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 1,
        "pattern": "calf"
    },
    {
        "name": "Seated DB calf raise",
        "primary": "calf",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "calf"
    },
    #GLUTE
    {
        "name": "DB bulgarian split squats",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "lunge"
    },
    {
        "name": "BB split squats",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "lunge"
    },
    {
        "name": "Smith bulgarian split squats",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "lunge"
    },
    {
        "name": "DB single leg hip thrust",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "BB hip thrust",
        "primary": "glute",
        "secondary": ["hamstring"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "BB glute bridge",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "Smith hip thrust",
        "primary": "glute",
        "secondary": ["hamstring"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "Cable kickback",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "Cable kickback (straight leg)",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "Cable kickback (knee bent)",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "hinge"
    },
    {
        "name": "Cable (knee height) kickback",
        "primary": "glute",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "hinge"
    },

    # ABDUCTOR/ADDUCTOR
    {
        "name": "Seated abduction machine",
        "primary": "abductor",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "abduction"
    },
    {
        "name": "Seated abduction machine (Leaning forward)",
        "primary": "abductor",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "abduction"
    },
    {
        "name": "Seated cable abduction (single leg)",
        "primary": "abductor",
        "secondary": ["glute"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "abduction"
    },
    {
        "name": "Seated adduction machine",
        "primary": "adductor",
        "secondary": [],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "adduction"
    },
    {
        "name": "Standing cable leg raise",
        "primary": "abductor",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "abduction"
    },
    {
        "name": "Seated cable leg abduction",
        "primary": "abductor",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "abduction"
    },
    {
        "name": "Seated cable leg adduction",
        "primary": "adductor",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "adduction"
    },
    #ABS
    {
        "name": "Cable standing crunch",
        "primary": "abs",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "crunch"
    },
    {
        "name": "Kneeling cable crunch",
        "primary": "abs",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "crunch"
    },
    {
        "name": "Hanging leg raise",
        "primary": "abs",
        "secondary": [],
        "type": "isolation",
        "equipment": "bodyweight",
        "fatigue": 2,
        "pattern": "crunch"
    },
    {
        "name": "Bench ins & outs",
        "primary": "abs",
        "secondary": [],
        "type": "isolation",
        "equipment": "bodyweight",
        "fatigue": 2,
        "pattern": "crunch"
    },

    # CHEST
     {
        "name": "BB Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Incline BB Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "DB Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "Incline DB Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "Smith Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Incline Smith Bench Press",
        "primary": "chest",
        "secondary": ["shoulder", "triceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "press"
    },
     {
        "name": "Parallel DB Bench Press",
        "primary": "chest",
        "secondary": ["shoulder"],
        "type": "compound",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "Cable fly",
        "primary": "chest",
        "secondary": ["shoulder"],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "fly"
    },
     {
        "name": "DB bench fly",
        "primary": "chest",
        "secondary": ["shoulder"],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Incline DB Fly",
        "primary": "chest",
        "secondary": ["shoulder"],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Fly machine",
        "primary": "chest",
        "secondary": ["shoulder"],
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "fly"
    },
    # SHOULDER
     {
        "name": "BB Shoulder Press",
        "secondary": ["chest"],
        "primary": "shoulder",
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Seated smith Shoulder Press",
        "secondary": ["chest"],
        "primary": "shoulder",
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "press"
    },
    {
        "name": "Shoulder press machine",
        "secondary": [],
        "primary": "shoulder",
        "type": "isolation",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "press"
    },
     {
        "name": "Seated DB Shoulder Press",
        "primary": "shoulder",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "Parallel DB Shoulder Press",
        "primary": "shoulder",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "Seated BB Shoulder Press",
        "primary": "shoulder",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "press"
    },
    # FRONT
    {
        "name": "Seated DB front raise",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "DB front raise",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "Cable front raise",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "BB front raise",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "DB hammer front raise",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "BB upright row",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "DB upright row",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "Cable upright row",
        "primary": "shoulder_f",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "raise"
    },
    # lateral
    {
        "name": "Seated DB lateral raise",
        "primary": "shoulder_l",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "DB lateral raise",
        "primary": "shoulder_l",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "raise"
    },
    {
        "name": "Cable lateral raise",
        "secondary": [],
        "primary": "shoulder_l",
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "raise"
    },
    # REAR DELT
     {
        "name": "DB Fly back",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Seated DB rear delt fly",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Bent-over DB rear delt fly",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "DB rear delt press",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Cable rear delt fly",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "fly"
    },
    {
        "name": "Reverse fly machine",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "fly"
    },
    {
        "name": "Cable rear delt fly (single arm)",
        "primary": "shoulder_r",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "fly"
    },
    # BICEPS
    {
        "name": "BB bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "curl"
    },
    {
        "name": "BB preacher bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "curl"
    },
    {
        "name": "DB bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB concentration bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Cable (straight bar) bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Cable rope bicep curls",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Cable rope hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "Cable bicep curl (single arm)",
        "primary": "biceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },{
        "name": "Cable hammer curl (single arm)",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB preacher hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB alternating hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB concentration hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },
    {
        "name": "DB preacher hammer curls",
        "primary": "biceps_b",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "curl"
    },

    # TRICEPS
      {
        "name": "BB Skull Crusher",
        "primary": "triceps",
        "secondary": ["chest"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "BB bench press (narrow grip)",
        "primary": "triceps",
        "secondary": ["chest"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "press"
    },
    {
        "name": "BB tricep extension (bench)",
        "primary": "triceps",
        "secondary": ["chest"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 2,
        "pattern": "extension"
    },
     {
        "name": "DB Tricep Kickback",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "extension"
    },
    {
        "name": "DB overhead tricep extension",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 1,
        "pattern": "extension"
    },
    {
        "name": "Cable Rope Tricep Pushdown",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "pushdown"
    },
    {
        "name": "Cable single arm tricep pushdown (D-handle)",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "pushdown"
    },
    {
        "name": "Cable (straight bar) Tricep Pushdown",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "pushdown"
    },
    {
        "name": "Cable overhead tricep extension",
        "primary": "triceps",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 1,
        "pattern": "extension"
    },
     {
        "name": "Tricep Dips",
        "primary": "triceps",
        "secondary": ["chest", "shoulder"],
        "type": "compound",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "dip"
    },
    {
        "name": "Diamond push-up",
        "primary": "triceps",
        "secondary": ["chest"],
        "type": "compound",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "press"
    },
    # BACK
    {
        "name": "Lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "Alternating lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Reverse lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "Reverse lat Pulldown (narrow grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "Lat Pulldown (wide grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "Reverse-grip lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "V-bar lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "pulldown"
    },
    {
        "name": "Single-arm lat Pulldown (D-handle)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Straight arm Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Rope lat Pulldown",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Row machine (V-handle)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "row"
    },
    {
        "name": "Row machine (reverse grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Single arm row machine (D-handle)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "H machine (reverse grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "H machine",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "H machine (parallel grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 2,
        "pattern": "row"
    },

    
    {
        "name": "Seated Cable(D-handle) Row",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Cable rope pulldown",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Cable straight arm pulldown",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "Cable single arm pulldown",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "pulldown"
    },
    {
        "name": "BB row",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "row"
    },
    {
        "name": "Smith row",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "row"
    },
    {
        "name": "BB row (reverse grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "barbell",
        "fatigue": 3,
        "pattern": "row"
    },
    {
        "name": "Smith row (reverse grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "machine",
        "fatigue": 3,
        "pattern": "row"
    },
    {
        "name": "DB row",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "DB row (single arm)",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "dumbbell",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Cable reverse row",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Cable row (straight bar)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Cable single arm row",
        "primary": "back",
        "secondary": [],
        "type": "isolation",
        "equipment": "cable",
        "fatigue": 2,
        "pattern": "row"
    },
    {
        "name": "Hyperextension",
        "primary": "lower_back",
        "secondary": [],
        "type": "isolation",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "hinge"
    },
    {
        "name": "Pull-up",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "pullup"
    },
    {
        "name": "Pull-up (reverse grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "pullup"
    },
    {
        "name": "Pull-up (parallel grip)",
        "primary": "back",
        "secondary": ["biceps"],
        "type": "compound",
        "equipment": "bodyweight",
        "fatigue": 3,
        "pattern": "pullup"
    }
]




import random

def get_exercise(muscle, ex_type=None, equipment=None, used_exercises=None):


    candidates = [
        ex for ex in EXERCISE_LIBRARY
        if ex["primary"] == muscle
        and (ex_type is None or ex["type"] == ex_type)
        and (equipment is None or ex["equipment"] == equipment)
    ]

    
    if used_exercises:
        candidates = [
            ex for ex in candidates
            if ex["name"] not in used_exercises
        ]

    
    if not candidates:
        candidates = [
            ex for ex in EXERCISE_LIBRARY
            if ex["primary"] == muscle
            and (ex_type is None or ex["type"] == ex_type)
            and ex["name"] not in (used_exercises or set())
        ]

    
    if not candidates:
        candidates = [
            ex for ex in EXERCISE_LIBRARY
            if ex["primary"] == muscle
            and ex["name"] not in (used_exercises or set())
        ]

    
    if not candidates:
        candidates = [
            ex for ex in EXERCISE_LIBRARY
            if ex["primary"] == muscle
        ]

    choice = random.choice(candidates)

    if used_exercises is not None:
        used_exercises.add(choice["name"])

    return choice